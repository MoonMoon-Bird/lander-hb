;(self.SPZ=self.SPZ||[]).push({n:"spz-sidebar",ev:"0.1",l:!0,t:"v1",v:"1.0",m:0,f:function(t,i){!function(){var i=Array.isArray;function e(t,i){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,i){if(t){if("string"==typeof t)return n(t,i);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?n(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==e.return||e.return()}finally{if(l)throw a}}}}function n(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,n=new Array(i);e<i;e++)n[e]=t[e];return n}function r(t){var i=Object.getOwnPropertyDescriptor(t,"message");if(null!=i&&i.writable)return t;var e=t.message,n=t.stack,r=new Error(e);for(var o in t)r[o]=t[o];return r.stack=n,r}function o(t){var i,n=null,o="",a=e(arguments);try{for(a.s();!(i=a.n()).done;){var s=i.value;s instanceof Error&&!n?n=r(s):(o&&(o+=" "),o+=s)}}catch(t){a.e(t)}finally{a.f()}return n?o&&(n.message=o+": "+n.message):n=new Error(o),n}function a(t){var i=o.apply(null,arguments);setTimeout((function(){var t,e;throw null===(t=(e=self).__SPZ_REPORT_ERROR)||void 0===t||t.call(e,i),i}))}function s(t){try{for(var i=arguments.length,e=new Array(i>1?i-1:0),n=1;n<i;n++)e[n-1]=arguments[n];return t.apply(null,e)}catch(t){a(t)}}var l="i-spzhtml-element",u=function(t){return t.unmount()};function f(t,e,n,r){for(var o,a=i(o=t)?o:[o],s=0;s<a.length;s++)h(a[s],e,n,r)}function h(t,i,e,n){if(i&&t.classList.contains(l)){var r=t;if(s(n,r),!e){var o=r.getPlaceholder();return void(o&&h(o,!0,!1,n))}}for(var a=t.getElementsByClassName(l),u=null,f=0;f<a.length;f++){var m=a[f];if(e)s(n,m);else{u=u||[];for(var c=!1,d=0;d<u.length;d++)if(u[d].contains(m)){c=!0;break}c||(u.push(m),s(n,m))}}}function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,i){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t})(t,i)}function p(t,i){if(i&&("object"===m(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b="spz-sidebar toolbar",y="updating",z=function(i){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&d(t,i)}(l,i);var e,n,r,o,a,s=(o=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=v(o);if(a){var e=v(this).constructor;t=Reflect.construct(i,arguments,e)}else t=i.apply(this,arguments);return p(this,t)});function l(t){var i;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,l),(i=s.call(this,t)).viewport_=null,i.action_=null,i.updateFn_=null,i.maskElement_=null,i.bottomBarCompensated_=!1,i.opened_=!1;var e=SPZServices.platformFor(i.win);return i.isIos_=e.isIos(),i.isSafari_=e.isSafari(),i}return e=l,r=[{key:"prerenderAllowed",value:function(){return!0}}],(n=[{key:"buildCallback",value:function(){this.viewport_=this.getViewport(),this.action_=SPZServices.actionServiceForDoc();var t=this.element;t.classList.add("i-spzhtml-overlay","i-spzhtml-scrollable"),t.parentNode!=t.ownerDocument.body&&t.parentNode!=self.document.body&&this.logger().warn(b,"".concat(b," is recommended to be a direct child of the <body> element to preserve a logical DOM order.")),t.hasAttribute("role")||t.setAttribute("role","dialog"),t.setAttribute("aria-modal","false"),t.tabIndex=-1,this.initActions_(),this.initMask_()}},{key:"isLayoutSupported",value:function(t){return t===SPZCore.Layout.NODISPLAY}},{key:"initActions_",value:function(){var t=this;this.registerDefaultAction((function(i){return t.open(null==i?void 0:i.caller)}),"open"),this.registerAction("close",(function(i){var e;return t.close(!(null==i||null===(e=i.args)||void 0===e||!e.immediate))})),this.registerAction("toggle",(function(i){t.opened_?t.close():t.open(null==i?void 0:i.caller)})),this.element.addEventListener("click",(function(i){var e=SPZCore.Dom.closestAncestorElementBySelector(t.assert(i.target),"A");if(e&&e.href){var n=SPZServices.urlForDoc(t.element).parse(e.href),r=location.href;if(SPZUtils.Urls.removeFragment(e.href)!=SPZUtils.Urls.removeFragment(r))return;n.hash&&t.close()}}),!0)}},{key:"initMask_",value:function(){this.maskElement_=document.createElement("div"),this.maskElement_.classList.add("i-spzhtml-sidebar-mask"),this.element.nextSibling?this.element.parentNode.insertBefore(this.maskElement_,this.element.nextSibling):this.element.parentNode.appendChild(this.maskElement_),this.initMaskEvent_()}},{key:"initMaskEvent_",value:function(){var t=this;this.maskElement_&&(SPZUtils.Event.listen(this.maskElement_,"click",(function(){t.close()})),this.isIos_&&SPZUtils.Event.listen(this.maskElement_,"touchstart",(function(i){t.close(),i.preventDefault()})))}},{key:"setUpdateFn_",value:function(t,i){var e=this;if(this.status_!==y){this.status_=y,this.updateFn_=t;var n=function(){e.updateFn_===t&&e.mutateElement(t)};i?SPZServices.timerFor(this.win).delay(n,i):n()}}},{key:"updateForOpening_",value:function(){var i=this;this.setFinishStatus_(),SPZCore.Dom.toggle(this.element,!0),this.mutateElement((function(){i.element.setAttribute("aria-modal","true")})),this.isIos_&&this.isSafari_&&this.compensateIosBottomBar_(),this.element.scrollTop=1,this.element.setAttribute("open",""),this.maskElement_.setAttribute("open",""),this.setUpdateFn_((function(){return i.updateForOpened_()}),350),function(i){var e=SPZCore.Dom.scopedQuerySelector(i,":not([toolbar]) [autoscroll]");if(e){var n=SPZCore.Dom.computedStyle(self,i)["overflow-y"];"scroll"==n||"auto"==n?SPZServices.viewportForDoc().animateScrollWithinParent(e,i,{pos:"center",duration:0}):t.logger.error("SPZ-SIDEBAR","for 'autoscroll', 'nav [toolbar]' element must be set to overflow\n        'scroll' or 'auto' for 'autoscroll' to work.")}}(this.element)}},{key:"updateForOpened_",value:function(){this.setFinishStatus_(),this.triggerEvent_("open"),this.element.setAttribute("i-spzhtml-sidebar-opened","")}},{key:"updateForClosing_",value:function(t){var i=this;this.setFinishStatus_(),this.element.removeAttribute("open"),this.element.removeAttribute("i-spzhtml-sidebar-opened"),this.element.setAttribute("aria-modal","false"),this.setUpdateFn_((function(){return i.updateForClosed_(t)}),t?0:350)}},{key:"updateForClosed_",value:function(t){this.setFinishStatus_(),t||(SPZCore.Dom.toggle(this.element,!1),this.triggerEvent_("close")),this.maskElement_.removeAttribute("open"),this.element.hasAttribute("disable-unmount")||function(t){f(t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],!0,u)}(this.element,!1)}},{key:"open",value:function(){var t=this;this.opened_||(this.opened_=!0,this.viewport_.enterOverlayMode(this.element),SPZCore.Dom.tryFocus(this.element),this.setUpdateFn_((function(){return t.updateForOpening_()})))}},{key:"close",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.dismiss_(t)}},{key:"dismiss_",value:function(t){var i=this;return!!this.opened_&&(this.opened_=!1,this.viewport_.leaveOverlayMode(),this.setUpdateFn_((function(){return i.updateForClosing_(t)})),t&&(SPZCore.Dom.toggle(this.element,!1),this.maskElement_.removeAttribute("open")),!0)}},{key:"compensateIosBottomBar_",value:function(){if(!this.bottomBarCompensated_){var t=document.createElement("div");SPZCore.Dom.setStyles(t,{"height":"54px","width":"100%","background-color":"transparent"}),t.classList.add("ios_safari_bottom_bar"),this.element.appendChild(t),this.bottomBarCompensated_=!0}}},{key:"setFinishStatus_",value:function(){this.status_="finish"}},{key:"triggerEvent_",value:function(t){var i=SPZUtils.Event.create(this.win,"".concat(b,".").concat(t),{});this.action_.trigger(this.element,t,i)}}])&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(t.BaseElement);self.SPZ.registerElement("spz-sidebar",z,"spz-sidebar{position:fixed!important;outline:none;overflow-x:hidden!important;overflow-y:auto!important;z-index:1050;-webkit-overflow-scrolling:touch;will-change:transform}spz-sidebar[side=left]{bottom:0;top:0;left:0!important;transform:translateX(-100%);animation-name:i-spzhtml-sidebar-slide-out-left;max-width:80vw;min-width:45px!important}spz-sidebar[side=left][open]{animation-name:i-spzhtml-sidebar-slide-in-left}spz-sidebar[side=right]{top:0;right:0!important;transform:translateX(100%);animation-name:i-spzhtml-sidebar-slide-out-right;max-height:100vh!important;max-width:80vw;min-width:45px!important}spz-sidebar[side=right][open]{animation-name:i-spzhtml-sidebar-slide-in-right}spz-sidebar[side=bottom]{left:0;right:0;bottom:0!important;transform:translateY(-100%);animation-name:i-spzhtml-sidebar-slide-out-bottom;max-width:100vw!important;width:100vw;max-height:80vh;min-height:45px!important}spz-sidebar[side=bottom][open]{animation-name:i-spzhtml-sidebar-slide-in-bottom}spz-sidebar[side=top]{top:0!important;left:0;right:0;transform:translateY(-100%);animation-name:i-spzhtml-sidebar-slide-out-top;width:100vw;max-width:100vw!important;min-height:45px!important}spz-sidebar[side=top][open]{animation-name:i-spzhtml-sidebar-slide-in-top}spz-sidebar[side][i-spzhtml-sidebar-opened]{transform:none;animation:none}.i-spzhtml-sidebar-mask,spz-sidebar[side]{animation-duration:233ms;animation-timing-function:cubic-bezier(0,0,.21,1);animation-fill-mode:forwards}.i-spzhtml-sidebar-mask{position:fixed;top:0;left:0;display:none;width:100vw;height:100vh;background-image:none;background-color:rgba(0,0,0,.3);animation-name:i-spzhtml-sidebar-mask-fade-out;z-index:1049}.i-spzhtml-sidebar-mask[open]{display:block;animation-name:i-spzhtml-sidebar-mask-fade-in}@keyframes i-spzhtml-sidebar-slide-in-left{0%{transform:translateX(-100%);opacity:0}to{transform:translateX(0);opacity:1}}@keyframes i-spzhtml-sidebar-slide-out-left{0%{transform:translateX(0);opacity:1}to{transform:translateX(-100%);opacity:0}}@keyframes i-spzhtml-sidebar-slide-in-right{0%{transform:translateX(100%)}to{transform:translateX(0)}}@keyframes i-spzhtml-sidebar-slide-out-right{0%{transform:translateX(0)}to{transform:translateX(100%)}}@keyframes i-spzhtml-sidebar-slide-in-bottom{0%{transform:translateY(100%)}to{transform:translateY(0)}}@keyframes i-spzhtml-sidebar-slide-out-bottom{0%{transform:translateY(0)}to{transform:translateY(100%)}}@keyframes i-spzhtml-sidebar-slide-in-top{0%{transform:translateY(-100%)}to{transform:translateY(0)}}@keyframes i-spzhtml-sidebar-slide-out-top{0%{transform:translateY(0)}to{transform:translateY(-100%)}}@keyframes i-spzhtml-sidebar-mask-fade-in{0%{opacity:0}to{opacity:1}}@keyframes i-spzhtml-sidebar-mask-fade-out{0%{opacity:1}to{opacity:0}}\n/*# sourceURL=/extensions/spz-sidebar/0.1/spz-sidebar.css*/")}()}});