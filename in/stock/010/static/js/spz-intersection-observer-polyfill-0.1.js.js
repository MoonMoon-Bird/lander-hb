;(self.SPZ=self.SPZ||[]).push({n:"spz-intersection-observer-polyfill",ev:"0.1",l:!0,t:"v1",v:"1.0",m:0,f:function(t,n){!function(){function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}var n;function i(t,n){for(var i=[],r=0,e=0;e<t.length;e++){var o=t[e];n(o,e,t)?i.push(o):(r<e&&(t[r]=o),r++)}return r<t.length&&(t.length=r),i}Array.isArray;var r,e,o,u=Object.prototype;function s(t){return 1==(null==(n=t)?void 0:n.nodeType)?(t=t).tagName.toLowerCase()+(t.id?"#".concat(t.id):""):t;var n}function h(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Assertion failed";if(t)return t;for(var r=2,e=n.split("%s"),o=e.shift(),u=[o];e.length;){var h=arguments[r++],f=e.shift();o+=s(h)+f,u.push(h,f.trim())}var c=new Error(o);throw c.messageArray=i(u,(function(t){return""!==t})),c}function f(t,n){if(!function(t,n){var i=t.__SPZ_SERVICES&&t.__SPZ_SERVICES[n];return!(!i||!i.ctor)}(t,n))return null;var i=c(t)[n];return i.obj||(h(i.ctor,"Service ".concat(n," registered without ctor nor impl.")),h(i.context,"Service ".concat(n," registered without context.")),i.obj=new i.ctor(i.context),h(i.obj,"Service ".concat(n," constructed to null.")),i.context=null,i.resolve&&i.resolve(i.obj)),i.obj}function c(t){var n=t.__SPZ_SERVICES;return n||(n=t.__SPZ_SERVICES={}),n}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function a(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function v(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}u.hasOwnProperty,u.toString,(function(){function t(n,i){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.callback_=n,this.options_=function(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?a(Object(i),!0).forEach((function(n){v(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}({root:null,rootMargin:"0px 0px 0px 0px"},i),this.elements_=[],this.inst_=null,t._upgraders.push(this.upgrade_.bind(this))}var n,i;return n=t,(i=[{key:"root",get:function(){return this.inst_?this.inst_.root:this.options_.root||null}},{key:"rootMargin",get:function(){return this.inst_?this.inst_.rootMargin:this.options_.rootMargin}},{key:"thresholds",get:function(){return this.inst_?this.inst_.thresholds:[].concat(this.options_.threshold||0)}},{key:"disconnect",value:function(){this.inst_?this.inst_.disconnect():this.elements_.length=0}},{key:"takeRecords",value:function(){return this.inst_?this.inst_.takeRecords():[]}},{key:"observe",value:function(t){this.inst_?this.inst_.observe(t):-1==this.elements_.indexOf(t)&&this.elements_.push(t)}},{key:"unobserve",value:function(t){if(this.inst_)this.inst_.unobserve(t);else{var n=this.elements_.indexOf(t);-1!=n&&this.elements_.splice(n,1)}}},{key:"upgrade_",value:function(t){var n=new t(this.callback_,this.options_);this.inst_=n;var i,r=function(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,n){if(t){if("string"==typeof t)return l(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(t,n):void 0}}(t))){i&&(t=i);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return u=t.done,t},e:function(t){s=!0,o=t},f:function(){try{u||null==i.return||i.return()}finally{if(s)throw o}}}}(this.elements_);try{for(r.s();!(i=r.n()).done;){var e=i.value;n.observe(e)}}catch(t){r.e(t)}finally{r.f()}this.elements_.length=0}}])&&function(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),t}())._upgraders=[],self.SPZ,e="spz-intersection-observer-polyfill",o=function(i){return function(t,i){var r=t.IntersectionObserver._stub;if(r){var e=t.IntersectionObserver._native;delete t.IntersectionObserver,delete t.IntersectionObserverEntry,i();var o=t.IntersectionObserver;e&&(t.IntersectionObserver=function(t,n){return function(i,r){var e;return 9===(null==r||null===(e=r.root)||void 0===e?void 0:e.nodeType)?new n(i,r):new t(i,r)}}(e,o));var u=r._upgraders.slice(0),s=n||(n=Promise.resolve(void 0)),h=function(t){s.then((function(){return t(o)}))};u.forEach(h),r._upgraders={"push":h}}else i()}(i,(function(){!function(){"use strict";if("object"===("undefined"==typeof window?"undefined":t(window)))if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=function(t){for(var n=window.document,i=o(n);i;)i=o(n=i.ownerDocument);return n}(),i=[],r=null,e=null;s.prototype.THROTTLE_TIMEOUT=100,s.prototype.POLL_INTERVAL=null,s.prototype.USE_MUTATION_OBSERVER=!0,s._setupCrossOriginUpdater=function(){return r||(r=function(t,n){e=t&&n?a(t,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},i.forEach((function(t){t._checkForIntersections()}))}),r},s._resetCrossOriginUpdater=function(){r=null,e=null},s.prototype.observe=function(t){if(!this._observationTargets.some((function(n){return n.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},s.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(n){return n.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},s.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},s.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},s.prototype._initThresholds=function(t){var n=t||[0];return Array.isArray(n)||(n=[n]),n.sort().filter((function(t,n,i){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==i[n-1]}))},s.prototype._parseRootMargin=function(t){var n=(t||"0px").split(/\s+/).map((function(t){var n=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!n)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(n[1]),unit:n[2]}}));return n[1]=n[1]||n[0],n[2]=n[2]||n[0],n[3]=n[3]||n[1],n},s.prototype._monitorIntersections=function(t){var i=t.defaultView;if(i&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,e=null,u=null;this.POLL_INTERVAL?e=i.setInterval(r,this.POLL_INTERVAL):(h(i,"resize",r,!0),h(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in i&&(u=new i.MutationObserver(r)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var n=t.defaultView;n&&(e&&n.clearInterval(e),f(n,"resize",r,!0)),f(t,"scroll",r,!0),u&&u.disconnect()}));var s=this.root&&(this.root.ownerDocument||this.root)||n;if(t!=s){var c=o(t);c&&this._monitorIntersections(c.ownerDocument)}}},s.prototype._unmonitorIntersections=function(t){var i=this._monitoringDocuments.indexOf(t);if(-1!=i){var r=this.root&&(this.root.ownerDocument||this.root)||n;if(!this._observationTargets.some((function(n){var i=n.element.ownerDocument;if(i==t)return!0;for(;i&&i!=r;){var e=o(i);if((i=e&&e.ownerDocument)==t)return!0}return!1}))){var e=this._monitoringUnsubscribes[i];if(this._monitoringDocuments.splice(i,1),this._monitoringUnsubscribes.splice(i,1),e(),t!=r){var u=o(t);u&&this._unmonitorIntersections(u.ownerDocument)}}}},s.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var n=0;n<t.length;n++)t[n]()},s.prototype._checkForIntersections=function(){if(this.root||!r||e){var t=this._rootIsInDom(),n=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var e=i.element,o=c(e),s=this._rootContainsTarget(e),h=i.entry,f=t&&s&&this._computeTargetAndRootIntersection(e,o,n),l=null;this._rootContainsTarget(e)?r&&!this.root||(l=n):l={top:0,bottom:0,left:0,right:0,width:0,height:0};var a=i.entry=new u({time:window.performance&&performance.now&&performance.now(),target:e,boundingClientRect:o,rootBounds:l,intersectionRect:f});h?t&&s?this._hasCrossedThreshold(h,a)&&this._queuedEntries.push(a):h&&h.isIntersecting&&this._queuedEntries.push(a):this._queuedEntries.push(a)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},s.prototype._computeTargetAndRootIntersection=function(t,i,o){if("none"!=window.getComputedStyle(t).display){for(var u,s,h,f,l,v,w,d,y=i,p=b(t),m=!1;!m&&p;){var g=null,j=1==p.nodeType?window.getComputedStyle(p):{};if("none"==j.display)return null;if(p==this.root||9==p.nodeType)if(m=!0,p==this.root||p==n)r&&!this.root?!e||0==e.width&&0==e.height?(p=null,g=null,y=null):g=e:g=o;else{var O=b(p),x=O&&c(O),S=O&&this._computeTargetAndRootIntersection(O,x,o);x&&S?(p=O,g=a(x,S)):(p=null,y=null)}else{var k=p.ownerDocument;p!=k.body&&p!=k.documentElement&&"visible"!=j.overflow&&(g=c(p))}if(g&&(u=g,s=y,h=Math.max(u.top,s.top),f=Math.min(u.bottom,s.bottom),l=Math.max(u.left,s.left),d=f-h,y=(w=(v=Math.min(u.right,s.right))-l)>=0&&d>=0&&{top:h,bottom:f,left:l,right:v,width:w,height:d}||null),!y)break;p=p&&b(p)}return y}},s.prototype._getRootRect=function(){var t;if(this.root&&!w(this.root))t=c(this.root);else{var i=w(this.root)?this.root:n,r=i.documentElement,e=i.body;t={top:0,left:0,right:r.clientWidth||e.clientWidth,width:r.clientWidth||e.clientWidth,bottom:r.clientHeight||e.clientHeight,height:r.clientHeight||e.clientHeight}}return this._expandRectByRootMargin(t)},s.prototype._expandRectByRootMargin=function(t){var n=this._rootMarginValues.map((function(n,i){return"px"==n.unit?n.value:n.value*(i%2?t.width:t.height)/100})),i={top:t.top-n[0],right:t.right+n[1],bottom:t.bottom+n[2],left:t.left-n[3]};return i.width=i.right-i.left,i.height=i.bottom-i.top,i},s.prototype._hasCrossedThreshold=function(t,n){var i=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=n.isIntersecting?n.intersectionRatio||0:-1;if(i!==r)for(var e=0;e<this.thresholds.length;e++){var o=this.thresholds[e];if(o==i||o==r||o<i!=o<r)return!0}},s.prototype._rootIsInDom=function(){return!this.root||v(n,this.root)},s.prototype._rootContainsTarget=function(t){var i=this.root&&(this.root.ownerDocument||this.root)||n;return v(i,t)&&(!this.root||i==t.ownerDocument)},s.prototype._registerInstance=function(){i.indexOf(this)<0&&i.push(this)},s.prototype._unregisterInstance=function(){var t=i.indexOf(this);-1!=t&&i.splice(t,1)},window.IntersectionObserver=s,window.IntersectionObserverEntry=u}function o(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}function u(t){this.time=t.time,this.target=t.target,this.rootBounds=l(t.rootBounds),this.boundingClientRect=l(t.boundingClientRect),this.intersectionRect=l(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var n=this.boundingClientRect,i=n.width*n.height,r=this.intersectionRect,e=r.width*r.height;this.intersectionRatio=i?Number((e/i).toFixed(4)):this.isIntersecting?1:0}function s(t,n){var i,r,e,o=n||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType&&9!=o.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,e=null,function(){e||(e=setTimeout((function(){i(),e=null}),r))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function h(t,n,i,r){"function"==typeof t.addEventListener?t.addEventListener(n,i,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+n,i)}function f(t,n,i,r){"function"==typeof t.removeEventListener?t.removeEventListener(n,i,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+n,i)}function c(t){var n;try{n=t.getBoundingClientRect()}catch(t){}return n?(n.width&&n.height||(n={top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.right-n.left,height:n.bottom-n.top}),n):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function a(t,n){var i=n.top-t.top,r=n.left-t.left;return{top:i,left:r,height:n.height,width:n.width,bottom:i+n.height,right:r+n.width}}function v(t,n){for(var i=n;i;){if(i==t)return!0;i=b(i)}return!1}function b(t){var i=t.parentNode;return 9==t.nodeType&&t!=n?o(t):(i&&i.assignedSlot&&(i=i.assignedSlot.parentNode),i&&11==i.nodeType&&i.host?i.host:i)}function w(t){return t&&9===t.nodeType}}()})),{}},function(t,n,i,r,e){var o=c(t),u=o[n];u||(u=o[n]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:!1}),u.ctor||(u.ctor=i,u.context=self,u.sharedInstance=!1,u.resolve&&f(t,n))}(r=function(t){return t.__SPZ_TOP||(t.__SPZ_TOP=t)}(r=window),e,o),f(r,e)}()}});